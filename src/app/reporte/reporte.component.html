<div class="estilo divAlineado">

  <div class="animated fadeIn card mb-3 px-4" style="box-shadow: 0 0px 8.94px 0.06px rgba(4,26,55,.16);max-width: 800px;">
    <div class="card-header bg-transparent ">
      <h5 align="center"> FILTROS </h5>
    </div>

    <div class="card-body">
      <div class='form-group row align-items-center'>
        <div class="col-2">
          <label class="font-weight-semibold">Unidades Académicas:</label>
        </div>
        <div class="col-10 d-flex align-items-center">
          <div class="col-8 pl-0">
          <mat-form-field class="unidad-width">
            <input type="text" placeholder="Añadir Unidad Académica y/o Área" aria-label="listaDeUnidadesAcademicas" matInput [formControl]="autocompleteControlUnidadAcademica" [matAutocomplete]="autoUnidadAcademica">
            <mat-autocomplete #autoUnidadAcademica="matAutocomplete" [displayWith]="mostrarNombreUnidadAcademica" (optionSelected)="seleccionarUnidadAcademica($event)">
              <mat-option *ngFor="let unidad of unidadesAcademicasFiltradas | async" [value]="unidad">
                {{unidad.nombre}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
          <div class="form-check">
            <label class="form-check-label">
              <input type="checkbox" name="UA" id="Todos" class="form-check-input" (ngModelChange)="seleccionarTodos('unidad')"
             [(ngModel)]="filtroPayload.listaDeUnidadesAcademicasCompleta"> Seleccionar todas
            </label>
          </div>
        </div>
      </div>

      <div class='form-group row'>
        <div class="col-6">
          <table class="table table-bordered" style="box-shadow: 0 0px 6.94px 0.06px rgba(4,26,55,.16);" *ngIf="filtroPayload.listaDeUnidadesAcademicas?.length>0">
            <thead>
              <tr align="center">
                <th>Unidad Académica/Área</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let unidad of filtroPayload.listaDeUnidadesAcademicas">
                <td>{{unidad.nombre}}</td>
                <td align="center"><button class="btn btn-danger btn-sm" type="button" (click)="eliminarUnidadAcademica(unidad.id)">X</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <br>


      <div class="form-group row align-items-center">
        <div class="col-2">
          <label class="font-weight-semibold">Tipo de Proyecto:</label>
        </div>
        <div class="col-3">
          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="tipo" id="bienestar" class="form-check-input" [(ngModel)]="filtroPayload.tipoProyecto" value="Proyecto Bienestar"> Proyecto Bienestar
            </label>
          </div>

          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="tipo" id="bianual" class="form-check-input" [(ngModel)]="filtroPayload.tipoProyecto" value="Proyecto Bianual"> Proyecto Bianual
            </label>
          </div>
        </div>

        <div class="col-3">
          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="tipo" id="especial" class="form-check-input" [(ngModel)]="filtroPayload.tipoProyecto" value="Proyecto Especial"> Proyecto Especial
            </label>
          </div>


          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="tipo" id="renovacion" class="form-check-input" [(ngModel)]="filtroPayload.tipoProyecto" value="Programa Estable"> Programa Estable
            </label>
          </div>

        </div>

        <div class="col-3">
          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="tipo" id="todostipo" class="form-check-input" [(ngModel)]="filtroPayload.tipoProyecto" value="TODOS"> Seleccionar todos
            </label>
          </div>
        </div>
      </div>
      <br>


      <div class="form-group row align-items-center">
        <div class="col-2">
        <label class="font-weight-semibold">Estado:</label>
      </div>

        <div class="col-3">
          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="estado" id="no autorizado" class="form-check-input" [(ngModel)]="filtroPayload.listaDeEstados" value="No Autorizado"> No Autorizado
            </label>
          </div>

          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="estado" id="autorizado" class="form-check-input" [(ngModel)]="filtroPayload.listaDeEstados" value="Autorizado">Autorizado
            </label>
          </div>
        </div>

        <div class="col-3">
          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="estado" id="activo" class="form-check-input" [(ngModel)]="filtroPayload.listaDeEstados" value="Activo"> Activo
            </label>
          </div>

          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="estado" id="finalizado" class="form-check-input" [(ngModel)]="filtroPayload.listaDeEstados" value="Finalizado">Finalizado
            </label>
          </div>
        </div>

        <div class="col-3">
          <div class="form-check">
            <label class="form-check-label">
              <input type="radio" name="estado" id="todos" class="form-check-input" [(ngModel)]="filtroPayload.listaDeEstados" value="TODOS"> Seleccionar todos
            </label>
          </div>
        </div>
      </div>

      <br>


      <div class='form-group row align-items-center'>
        <div class="col-2">
          <label class="font-weight-semibold">Año:</label>
        </div>
        <div class="col-10 d-flex align-items-center">
          <div class="col-3 pl-0">
            <mat-form-field class="unidad-anio-width">
              <input type="text" placeholder="Añadir año" aria-label="listaDeAnios" matInput [formControl]="autocompleteControlAnios" [matAutocomplete]="autoAnio">
              <mat-autocomplete #autoAnio="matAutocomplete" [displayWith]="mostrarAnio" (optionSelected)="seleccionarAnio($event)">
                <mat-option *ngFor="let anio of aniosFiltrados | async" [value]="anio">
                  {{anio.numero}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
        </div>
        <div class="form-check">
          <label class="form-check-label">
            <input type="checkbox" name="anio" id="Todos" class="form-check-input" [value]="true" (ngModelChange)="seleccionarTodos('anio')" [checked]="filtroPayload.listaDeAniosCompletos" [(ngModel)]="filtroPayload.listaDeAniosCompletos"> Seleccionar todos
          </label>
        </div>
        </div>
      </div>

      <div class='form-group row'>
        <div class="col-3">
          <table class="table table-bordered" style="box-shadow: 0 0px 6.94px 0.06px rgba(4,26,55,.16);" *ngIf="filtroPayload.listaDeAnios?.length>0">
            <thead>
              <tr align="center">
                <th>Año</th>
                <th>Eliminar</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let anio of filtroPayload.listaDeAnios">
                <td>{{anio.numero}}</td>
                <td align="center"><button class="btn btn-danger btn-sm" type="button" (click)="eliminarAnio(anio.id)">X</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <br>

      <div class="row">
        <div class="col-12 text-right">
          <button class="boton btn btn-outline-secondary" (click)="limpiarFiltro()" role="button">LIMPIAR FILTROS</button>
          <button class="boton btn btn-info" role="button" [disabled]="filtroPayload.tipoProyecto == undefined || filtroPayload.listaDeEstados == undefined || !filtroPayload.listaDeUnidadesAcademicasCompleta &&filtroPayload.listaDeUnidadesAcademicas.length == 0 ||
          !filtroPayload.listaDeAniosCompletos && filtroPayload.listaDeAnios.length == 0 " (click)='enviarFiltro()'><i class="fas fa-filter"></i>  APLICAR FILTROS</button>
          <!-- <button class="boton btn btn-success" [disabled]="!resultadoFiltro.contador.contadorProyectos" (click)="generarPdf()" role="button"> <i class="far fa-file-pdf"></i> GENERAR PDF</button> -->
        </div>
      </div>

    </div>
  </div>


  <div class="row">
    <div class="col-sm-6">
      <button class="boton btn btn-primary" [routerLink]="['/elegir-proyecto']" role="button">VOLVER ATRÁS</button>
    </div>
  </div>

</div>
